(function(){"use strict";var e={3369:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(9963),i=n(6252),a={id:"app__container",class:"el-cover el-cover--space:ms-1 el-cover--minHeight:100%"},l={ref:"sketchIn__container",class:"sketchIn__container"},u={ref:"sketchIn",class:"sketchIn el-cover__centered el-center el-center--gutters:0"};function o(e,t,n,r,o,s){var c=(0,i.up)("TheHeaderChild"),d=(0,i.up)("TheFooterChild"),p=(0,i.up)("TheDialogRule");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[(0,i._)("header",null,[(0,i.Wm)(c)]),(0,i._)("main",l,[(0,i._)("canvas",u,null,512)],512),(0,i._)("footer",null,[(0,i.Wm)(d)])]),(0,i.Wm)(p)],64)}var s=function(e){return(0,i.dD)("data-v-377cfb5f"),e=e(),(0,i.Cn)(),e},c={class:"the-header-child el-center"},d={class:"the-header-child__container el-cluster el-cluster--justify:space-between"},p=s((function(){return(0,i._)("h1",{class:"the-header-child__brand"},"ECA",-1)})),f={class:"the-header-child__statuses el-cluster"};function h(e,t,n,r,a,l){var u=(0,i.up)("BaseStatus");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",d,[p,(0,i._)("div",f,[(0,i.Wm)(u,(0,i.dG)({title:"INIT STATE"},e.state),null,16),(0,i.Wm)(u,(0,i.dG)({title:"RULE"},e.rule),null,16)])])])}var m=n(3577);function g(e,t,n,r,a,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,m.C_)(["base-status el-box el-box--invert el-box--padding:0 nes-text",{"base-status--highlight":n.highlight,"app-util-clickable":r.isClickable}])},[(0,i._)("div",{class:"el-center el-center--gutters:ms-1",onClick:t[0]||(t[0]=function(t){return e.$emit("onclick")})},[(0,i._)("div",null,(0,m.zw)(n.title),1),(0,i._)("div",null,(0,m.zw)(n.content),1)])],2)}var v=n(2262),_={name:"BaseStatus",emits:["onclick"],props:{title:{type:String,required:!0},content:{type:String,required:!0},highlight:{type:Boolean,required:!1}},setup:function(e,t){return{isClickable:(0,v.iH)(t.attrs.onclick)}}},b=n(3744);const k=(0,b.Z)(_,[["render",g],["__scopeId","data-v-7f2ebbbc"]]);var w,y,I,S,D,R,T,C,O,Z=k,N=(n(1539),n(4747),n(9714),n(9653),n(3907)),B=n(2482),q=(n(2526),n(1817),Symbol()),U={RuleType:"RuleType",RuleNumber:"RuleNumber",InitState:"InitState",OpenedDialog:"OpenedDialog"},M={UpdateRuleType:"UpdateRuleType",InputRuleNumber:"InputRuleNumber",UpdateInitState:"UpdateInitState",OpenDialog:"OpenDialog"},V=(0,N.MT)({state:{ruleType:"random",ruleNumber:"30",initState:"single",openedDialog:"none"},getters:(w={},(0,B.Z)(w,U.RuleType,(function(e){return e.ruleType})),(0,B.Z)(w,U.RuleNumber,(function(e){return e.ruleNumber})),(0,B.Z)(w,U.InitState,(function(e){return e.initState})),(0,B.Z)(w,U.OpenedDialog,(function(e){return e.openedDialog})),w),mutations:(y={},(0,B.Z)(y,M.UpdateRuleType,(function(e,t){e.ruleType=t})),(0,B.Z)(y,M.InputRuleNumber,(function(e,t){e.ruleNumber=t})),(0,B.Z)(y,M.UpdateInitState,(function(e){switch(e.initState){case"single":e.initState="random";break;case"random":e.initState="single";break}})),(0,B.Z)(y,M.OpenDialog,(function(e,t){e.openedDialog=t})),y),actions:{},modules:{}}),j=n(3087),x=n(2833),F=(n(1249),n(7145),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),function(){function e(t,n,r){(0,j.Z)(this,e),(0,B.Z)(this,"_rule",void 0),(0,B.Z)(this,"_state",void 0),(0,B.Z)(this,"_spaceSize",void 0),(0,B.Z)(this,"_gen",void 0),this._rule=t,this._state=n,this._spaceSize=n.length,this._gen=r}return(0,x.Z)(e,[{key:"generate",value:function(){var t=this,n=this._state.map((function(e,n){var r=t._state[n>0?n-1:t._spaceSize-1],i=e,a=t._state[(n+1)%t._spaceSize],l=Math.pow(2,2)*r+Math.pow(2,1)*i+Math.pow(2,0)*a;return t._rule>>l&1?1:0}));return this._state=n,this._gen++,new e(this._rule,this._state,this._gen)}},{key:"state",get:function(){return this._state}},{key:"gen",get:function(){return this._gen}}]),e}()),H=function(e,t,n){var r=new Int8Array(t);switch(n){case"single":r[~~(t/2)]=1;break;case"random":r=r.map((function(){return Math.floor(2*Math.random())}));break}return new F(e,r,1)},W=16,z=Math.floor(.9*W),A=500,E=U.InitState,L=U.RuleNumber,P=U.RuleType,$=M.InputRuleNumber,G=function(e){return e*W+(W-z)/2},Y=function(){return I.clearRect(0,0,S,D)},K=function(e,t){I.fillStyle="#00933B",e.forEach((function(e,n){1===e&&I.fillRect(G(n),G(t-1),z,z)}))},J=function(){var e=(0,N.oR)(q),t=e.getters,n=e.commit,r=(0,v.iH)(),a=(0,v.iH)(),l=function(){Y(),"random"===t[P]&&n($,Math.floor(256*Math.random()).toString()),C=H(Number(t[L]),R,t[E]),K(C.state,C.gen);while(!(C.gen>T))C=C.generate(),K(C.state,C.gen)},u=function(e,t){clearTimeout(O),O=setTimeout((function(){t.removeEventListener("click",l),Y();var n=t.clientWidth,r=t.clientHeight;R=Math.floor(n/W),T=Math.floor(r/W),S=R*W,D=T*W,e.width=S,e.height=D,t.addEventListener("click",l)}),A)};return(0,i.bv)((function(){var e=r.value,t=a.value;I=e.getContext("2d"),window.addEventListener("resize",(function(){return u(e,t)})),u(e,t)})),{sketchIn:r,sketchIn__container:a}},Q=J,X=U.OpenedDialog,ee=U.RuleNumber,te=U.RuleType,ne=M.OpenDialog,re=M.InputRuleNumber,ie=M.UpdateRuleType,ae=function(){var e=(0,N.oR)(q),t=e.getters,n=e.commit,r=(0,i.Fl)((function(){return t[X]})),a=function(){return n(ne,"none")},l=(0,v.qj)([{value:"RANDOM"},{value:"INPUT",writeIn:!0}]),u=(0,i.Fl)({get:function(){return t[te].toUpperCase()},set:function(e){return n(ie,e.toLowerCase())}}),o=(0,v.qj)({min:"0",max:"255",disabled:(0,i.Fl)((function(){return"random"===t[te]}))}),s=(0,i.Fl)({get:function(){return t[ee]},set:function(e){return n(re,e)}});return{openedDialog:r,close:a,ruleItems:l,rulePicked:u,writeinAttrs:o,writeinInput:s}},le=ae,ue=U.InitState,oe=U.OpenedDialog,se=U.RuleNumber,ce=M.OpenDialog,de=M.UpdateInitState,pe=function(){var e=(0,N.oR)(q),t=e.getters,n=e.commit,r=(0,v.qj)({content:(0,i.Fl)((function(){return t[ue].toUpperCase()})),highlight:(0,i.Fl)((function(){return"state"===t[oe]})),onclick:function(){return n(de)}}),a=(0,v.qj)({content:(0,i.Fl)((function(){return t[se]})),highlight:(0,i.Fl)((function(){return"rule"===t[oe]})),onclick:function(){return n(ce,"rule"!==t[oe]?"rule":"none")}});return{state:r,rule:a}},fe=pe,he={name:"TheHeaderChild",components:{BaseStatus:Z},setup:function(){return fe()}};const me=(0,b.Z)(he,[["render",h],["__scopeId","data-v-377cfb5f"]]);var ge=me,ve={class:"the-footer-child el-center"},_e={class:"the-footer-child__container"},be=(0,i.Uk)(" / Â© 2022 l1ck0h");function ke(e,t,n,r,a,l){var u=(0,i.up)("BaseLink");return(0,i.wg)(),(0,i.iD)("div",ve,[(0,i._)("small",_e,[(0,i.Wm)(u,{url:"https://github.com/l1ck0h/elementary-cellular-automaton",label:"GitHub"}),be])])}var we=["href"];function ye(e,t,n,r,a,l){return(0,i.wg)(),(0,i.iD)("a",{class:"base-link",href:n.url,target:"_blank",rel:"noopener noreferrer"},(0,m.zw)(n.label),9,we)}var Ie={name:"BaseLink",props:{url:{type:String,required:!0},label:{type:String,required:!0}}};const Se=(0,b.Z)(Ie,[["render",ye],["__scopeId","data-v-b5dc2084"]]);var De=Se,Re={name:"TheFooterChild",components:{BaseLink:De}};const Te=(0,b.Z)(Re,[["render",ke],["__scopeId","data-v-6383439e"]]);var Ce=Te;function Oe(e,t,n,r,a,l){var u=(0,i.up)("BaseInputRange"),o=(0,i.up)("BaseSetting"),s=(0,i.up)("BaseDialog");return"rule"===r.openedDialog?((0,i.wg)(),(0,i.j4)(s,{key:0,onClose:r.close},{default:(0,i.w5)((function(){return[(0,i.Wm)(o,{modelValue:r.rulePicked,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.rulePicked=e}),title:"RULE",name:"rule-select",items:r.ruleItems},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:r.writeinInput,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.writeinInput=e}),attrs:r.writeinAttrs},null,8,["modelValue","attrs"])]})),_:1},8,["modelValue","items"])]})),_:1},8,["onClose"])):(0,i.kq)("",!0)}var Ze={class:"base-dialog__wrapper el-imposter"};function Ne(e,t,n,a,l,u){return(0,i.wg)(),(0,i.iD)("div",{class:"base-dialog__overlay",onClick:t[2]||(t[2]=(0,r.iM)((function(t){return e.$emit("close")}),["self"]))},[(0,i._)("div",Ze,[(0,i._)("div",{class:"base-dialog",onClick:t[1]||(t[1]=(0,r.iM)((function(t){return e.$emit("close")}),["self"]))},[(0,i._)("i",{class:"base-dialog__close nes-icon close is-small",onClick:t[0]||(t[0]=function(t){return e.$emit("close")})}),(0,i.WI)(e.$slots,"default",{},void 0,!0)])])])}var Be={name:"BaseDialog",emits:["close"]};const qe=(0,b.Z)(Be,[["render",Ne],["__scopeId","data-v-2f9f5777"]]);var Ue=qe,Me=["value"];function Ve(e,t,n,r,a,l){return(0,i.wg)(),(0,i.iD)("input",(0,i.dG)({class:"input-range",type:"range"},n.attrs,{value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})}),null,16,Me)}var je={name:"BaseInputRange",emits:["update:modelValue"],props:{attrs:{type:Object,required:!1},modelValue:{type:String,required:!0}}};const xe=(0,b.Z)(je,[["render",Ve]]);var Fe=xe,He=(n(8309),{class:"base-setting nes-container is-rounded with-title is-dark"}),We={class:"title"},ze={class:"el-center"},Ae={class:"el-box el-box--invert"},Ee={class:"el-stack",style:{"--space":"var(--ms-1)"}},Le=["name","value","checked"],Pe={class:"app-util-clickable"};function $e(e,t,n,r,a,l){return(0,i.wg)(),(0,i.iD)("div",He,[(0,i._)("span",We,(0,m.zw)(n.title),1),(0,i._)("div",ze,[(0,i._)("div",Ae,[(0,i._)("div",Ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,(function(r,a){return(0,i.wg)(),(0,i.iD)("label",{key:a,class:"el-stack"},[(0,i._)("input",{type:"radio",class:"nes-radio is-dark",name:n.name,value:r.value,checked:r.value===n.modelValue,onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,40,Le),(0,i._)("span",Pe,(0,m.zw)(r.value),1),r.writeIn?(0,i.WI)(e.$slots,"default",{key:0},void 0,!0):(0,i.kq)("",!0)])})),128))])])])])}var Ge={name:"BaseSetting",emits:["update:modelValue"],props:{title:{type:String,required:!0},name:{type:String,required:!0},items:Array,modelValue:{type:String,required:!0}}};const Ye=(0,b.Z)(Ge,[["render",$e],["__scopeId","data-v-0dad6b7a"]]);var Ke=Ye,Je={name:"TheDialogRule",components:{BaseDialog:Ue,BaseInputRange:Fe,BaseSetting:Ke},setup:function(){var e=le(),t=e.openedDialog,n=e.close,r=e.ruleItems,i=e.rulePicked,a=e.writeinAttrs,l=e.writeinInput;return{openedDialog:t,close:n,ruleItems:r,rulePicked:i,writeinAttrs:a,writeinInput:l}}};const Qe=(0,b.Z)(Je,[["render",Oe]]);var Xe=Qe,et={name:"App",components:{TheHeaderChild:ge,TheFooterChild:Ce,TheDialogRule:Xe},setup:function(){return Q()}};const tt=(0,b.Z)(et,[["render",o]]);var nt=tt;(0,r.ri)(nt).use(V,q).mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,a){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],a=e[c][2];for(var u=!0,o=0;o<r.length;o++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[o])}))?r.splice(o--,1):(u=!1,a<l&&(l=a));if(u){e.splice(c--,1);var s=i();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,i,a]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,l=r[0],u=r[1],o=r[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(o)var c=o(n)}for(t&&t(r);s<l.length;s++)a=l[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunkelementary_cellular_automaton"]=self["webpackChunkelementary_cellular_automaton"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3369)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.92ffff07.js.map